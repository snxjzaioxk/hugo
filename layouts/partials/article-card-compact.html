{{/*
  Compact Article Card Component
  紧凑型文章卡片组件（用于分类页）

  参数:
  - . (context): 文章页面对象
*/}}

{{ $article := . }}
{{ $showDate := .Params.showDate | default (site.Params.taxonomy.showDate | default false) }}

{{ with $article }}
<article class="post-item bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm hover:shadow-md transition-all duration-300">
  <div class="space-y-4">
    <div class="flex items-center justify-between">
      {{ if $showDate }}
        <time class="text-sm text-gray-500 dark:text-gray-400">
          {{ .Date.Format "2006-01-02" }}
        </time>
      {{ end }}
      {{ if .ReadingTime }}
        <span class="text-sm text-gray-500 dark:text-gray-400">{{ .ReadingTime }} 分钟阅读</span>
      {{ end }}
    </div>

    <h2 class="text-xl font-semibold text-gray-800 dark:text-gray-200 hover:text-blue-600 dark:hover:text-blue-400 transition-colors duration-200">
      <a href="{{ .RelPermalink }}">
        {{ .Title }}
      </a>
    </h2>

    {{ if .Summary }}
      <p class="text-gray-600 dark:text-gray-400 text-sm line-clamp-2">
        {{ .Summary | truncate 120 }}
      </p>
    {{ end }}

    {{ if .Params.tags }}
      <div class="flex flex-wrap gap-2">
        {{ range first 3 .Params.tags }}
          <span class="bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 px-2 py-1 rounded text-xs">
            {{ . }}
          </span>
        {{ end }}
      </div>
    {{ end }}
  </div>
</article>
{{ end }}
