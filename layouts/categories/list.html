{{ define "main" }}
  <div class="max-w-4xl mx-auto px-4 py-8">
    <header class="mb-8">
      <h1 class="text-3xl font-bold text-gray-800 dark:text-gray-200 mb-2">{{ .Title }}</h1>
      <p class="text-gray-600 dark:text-gray-400">共 {{ len .Pages }} 篇文章</p>
    </header>

    {{ if .Content }}
      <div class="prose dark:prose-invert mb-8">
        {{ .Content }}
      </div>
    {{ end }}

    {{ if .Pages }}
      <section class="posts-section">
        <div class="space-y-6">
          {{ range .Pages }}
            <article class="post-item bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm">
              <div class="space-y-4">
                <div class="flex items-center justify-between">
                  <time class="text-sm text-gray-500 dark:text-gray-400">
                    {{ .Date.Format "2006-01-02" }}
                  </time>
                  {{ if .ReadingTime }}
                    <span class="text-sm text-gray-500 dark:text-gray-400">{{ .ReadingTime }} 分钟阅读</span>
                  {{ end }}
                </div>

                <h2 class="text-xl font-semibold text-gray-800 dark:text-gray-200 hover:text-blue-600 dark:hover:text-blue-400">
                  <a href="{{ .RelPermalink }}">
                    {{ .Title }}
                  </a>
                </h2>

                {{ if .Summary }}
                  <p class="text-gray-600 dark:text-gray-400 text-sm line-clamp-2">
                    {{ .Summary | truncate 120 }}
                  </p>
                {{ end }}

                {{ if .Params.tags }}
                  <div class="flex flex-wrap gap-2">
                    {{ range first 3 .Params.tags }}
                      <span class="bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 px-2 py-1 rounded text-xs">
                        {{ . }}
                      </span>
                    {{ end }}
                  </div>
                {{ end }}
              </div>
            </article>
          {{ end }}
        </div>
      </section>
    {{ else }}
      <div class="text-center py-12">
        <p class="text-gray-500 dark:text-gray-400 mb-6">
          该分类下还没有文章，敬请期待！
        </p>
        <a href="/" class="text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-medium">
          返回首页
        </a>
      </div>
    {{ end }}
  </div>
{{ end }}